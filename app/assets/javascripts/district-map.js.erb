var map = L.map('map', { scrollWheelZoom: false });

var OpenStreetMap_BlackAndWhite = L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
	maxZoom: 18,
  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);

var tiles = L.geoJson($('#map').data('geo'), {
	style: style
}).addTo(map);

var map_bounds = tiles.getBounds();
map.fitBounds(map_bounds);

function style(feature) {
  return {
    weight: 2,
    opacity: 1,
    color: getColor($('#party').data('party')),
    fillOpacity: 0.5
  };
}

function getColor(party) {
	return party == 'NDP' ? '#FF5800' :
				 party == 'Conservative' ? '#002395' :
				 party == 'Liberal' ? '#ed2e38' :
				 party == 'Bloc Québécois' ? '#0088CE' :
				 party == 'Green Party' ? '#427730' :
				        	 '#7570b3' ;
}
